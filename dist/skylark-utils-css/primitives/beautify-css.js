/**
 * skylark-utils-css - The skylark css utility library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0-beta
 * @link www.skylarkjs.org
 * @license MIT
 */
define([],function(){function e(n,r){function t(){return L=n.charAt(++S),L||""}function i(e){var r=S;return e&&a(),result=n.charAt(S+1)||"",S=r-1,t(),result}function s(e){for(var r=S;t();)if("\\"===L)t();else{if(e.indexOf(L)!==-1)break;if("\n"===L)break}return n.substring(r,S+1)}function u(e){var n=S,r=s(e);return S=n-1,t(),r}function a(){for(var e="";d.test(i());)t(),e+=L;return e}function p(){var e="";for(L&&d.test(L)&&(e=L);d.test(t());)e+=L;return e}function c(e){var r=S,e="/"===i();for(t();t();){if(!e&&"*"===L&&"/"===i()){t();break}if(e&&"\n"===L)return n.substring(r,S)}return n.substring(r,S)+L}function f(e){return n.substring(S-e.length,S).toLowerCase()===e}function h(){for(var e=S+1;e<n.length;e++){var r=n.charAt(e);if("{"===r)return!0;if(";"===r||"}"===r||")"===r)return!1}return!1}function o(){O++,b+=m}function l(){O--,b=b.slice(0,-g)}r=r||{};var g=r.indent_size||4,_=r.indent_char||" ",v=void 0===r.selector_separator_newline||r.selector_separator_newline,w=void 0!==r.end_with_newline&&r.end_with_newline;"string"==typeof g&&(g=parseInt(g,10));var L,d=/^\s+$/,S=-1,b=n.match(/^[\t ]*/)[0],m=new Array(g+1).join(_),O=0,A=0,E={};E["{"]=function(e){E.singleSpace(),C.push(e),E.newLine()},E["}"]=function(e){E.newLine(),C.push(e),E.newLine()},E._lastCharWhitespace=function(){return d.test(C[C.length-1])},E.newLine=function(e){e||E.trim(),C.length&&C.push("\n"),b&&C.push(b)},E.singleSpace=function(){C.length&&!E._lastCharWhitespace()&&C.push(" ")},E.trim=function(){for(;E._lastCharWhitespace();)C.pop()};var C=[];b&&C.push(b);for(var N=!1,R=!1,T="",U="";;){var k=p(),I=""!==k,y=k.indexOf("\n")!==-1,U=T,T=L;if(!L)break;if("/"===L&&"*"===i()){var D=f("");E.newLine(),C.push(c()),E.newLine(),D&&E.newLine(!0)}else if("/"===L&&"/"===i())y||"{"===U||E.trim(),E.singleSpace(),C.push(c()),E.newLine();else if("@"===L){I&&E.singleSpace(),C.push(L);var $=u(": ,;{}()[]/='\"").replace(/\s$/,"");$ in e.NESTED_AT_RULE?(A+=1,$ in e.CONDITIONAL_GROUP_RULE&&(R=!0)):": ".indexOf($[$.length-1])>=0&&(t(),$=s(": ").replace(/\s$/,""),C.push($),E.singleSpace())}else"{"===L?"}"===i(!0)?(a(),t(),E.singleSpace(),C.push("{}")):(o(),E["{"](L),R?(R=!1,N=O>A):N=O>=A):"}"===L?(l(),E["}"](L),N=!1,A&&A--):":"===L?(a(),!N&&!R||f("&")||h()?":"===i()?(t(),C.push("::")):C.push(":"):(C.push(":"),E.singleSpace())):'"'===L||"'"===L?(I&&E.singleSpace(),C.push(s(L))):";"===L?(C.push(L),E.newLine()):"("===L?f("url")?(C.push(L),a(),t()&&(")"!==L&&'"'!==L&&"'"!==L?C.push(s(")")):S--)):(I&&E.singleSpace(),C.push(L),a()):")"===L?C.push(L):","===L?(C.push(L),a(),!N&&v?E.newLine():E.singleSpace()):"]"===L?C.push(L):"["===L?(I&&E.singleSpace(),C.push(L)):"="===L?(a(),C.push(L)):(I&&E.singleSpace(),C.push(L))}var x=C.join("").replace(/[\r\n\t ]+$/,"");return w&&(x+="\n"),x}return e.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},e.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},{css_beautify:e}});
//# sourceMappingURL=../sourcemaps/primitives/beautify-css.js.map
